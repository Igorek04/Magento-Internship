<h4>
    <span class="stripe-method-title"><?= $block->escapeHtml(__('Stripe - %1', $block->escapeHtml($block->getTitle()))); ?></span>

    <?php if (!empty($block->getPaymentMethodCode())): ?>
    <span class="stripe-payment-method">
        <?php if ($block->getWalletIconUrl()): ?>
            <img height="24px" style="max-height: 24px; margin-right: 1em" src="<?= $block->escapeHtmlAttr($block->getWalletIconUrl()); ?>">
        <?php endif; ?>
        <?php if ($block->getPaymentMethodIconUrl()): ?>
            <img src="<?= $block->escapeHtmlAttr($block->getPaymentMethodIconUrl()); ?>" class="stripe-payment-method-icon">
        <?php endif; ?>
        <?php if ($block->getPaymentMethodName()): ?>
            <span class="stripe-payment-method-name"><?= $block->escapeHtml($block->getPaymentMethodName()); ?></span>
        <?php endif; ?>
    </span>
    <?php endif; ?>
</h4>

<table class="admin__table-secondary order-information-table stripe payment-info">
  <tbody>

    <?php if (!empty($block->getFormattedAmount())): ?>
    <tr>
        <th><?= $block->escapeHtml(__('Amount')); ?></th>
        <td class="stripe-amount">
            <strong>
                <?php if ($block->isMultiShipping()): ?>
                    <?= /* @noEscape */ $block->getFormattedMultishippingAmount(); ?>
                <?php else: ?>
                    <?= /* @noEscape */ $block->getFormattedAmount(); ?>
                <?php endif; ?>
            </strong>
        </td>
    </tr>
    <?php endif; ?>

    <?php if (!empty($block->getPaymentStatus())): ?>
    <tr>
        <th><?= $block->escapeHtml(__('Payment status')); ?></th>
        <td class="stripe-payment-status">
            <span class="stripe-payment-status-<?= $block->escapeHtmlAttr($block->getPaymentStatus()); ?>">
                <?= $block->escapeHtml($block->getPaymentStatusName()); ?>
            </span>
        </td>
    </tr>
    <?php endif; ?>

    <?php if (!empty($block->getExpiryDate())): ?>
    <tr>
        <th><?= $block->escapeHtml(__('Authorization expires')); ?></th>
        <td class="stripe-expiry-date">
            <?= $block->escapeHtml($block->getExpiryDate()); ?>
        </td>
    </tr>
    <?php endif; ?>

    <?php if ($block->isLegacyPaymentMethod()): ?>
    <tr>
        <td class="" colspan="2">
            <center><?= $block->escapeHtml(__("This order has been placed with a deprecated payment method.")); ?></center>
        </td>
    </tr>
    <?php endif; ?>

    <?php if (!empty($block->getFormattedSubscriptionAmount())): ?>
    <tr>
        <th><?= $block->escapeHtml(__('Subscription amount')); ?></th>
        <td class="stripe-subscription-amount">
            <?= /* @noEscape */ $block->getFormattedSubscriptionAmount(); ?>
        </td>
    </tr>
    <?php endif; ?>

    <?php if (!empty($block->getPreviousSubscriptionAmount())): ?>
    <tr>
        <th><?= $block->escapeHtml(__('Previous subscription amount')); ?></th>
        <td class="stripe-subscription-amount">
            <?= /* @noEscape */ $block->getPreviousSubscriptionAmount(); ?>
        </td>
    </tr>
    <?php endif; ?>

    <?php if (!empty($block->getFormattedNewSubscriptionAmount())): ?>
    <tr>
        <th><?= $block->escapeHtml(__('New subscription amount')); ?></th>
        <td class="stripe-subscription-amount">
            <?= /* @noEscape */ $block->getFormattedNewSubscriptionAmount(); ?>
        </td>
    </tr>
    <?php endif; ?>

    <?php if (!empty($block->getNewSubscriptionOrderIncrementId())): ?>
    <tr>
        <th><?= $block->escapeHtml(__('New subscription order')); ?></th>
        <td class="stripe-subscription-amount">
            <a href="<?= $block->escapeUrl($block->getSubscriptionOrderUrl($block->getNewSubscriptionOrderIncrementId())); ?>" target="_blank">
                #<?= $block->escapeHtml($block->getNewSubscriptionOrderIncrementId()); ?>
            </a>
        </td>
    </tr>
    <?php endif; ?>

    <?php if (!empty($block->getSubscriptionStatus())): ?>
    <tr>
        <th><?= $block->escapeHtml(__('Subscription status')); ?></th>
        <td class="stripe-subscription-status">
            <span class="stripe-subscription-status-<?= $block->escapeHtmlAttr($block->getSubscriptionStatus()); ?>">
                <?= $block->escapeHtml($block->getSubscriptionStatusName()); ?>
            </span>
        </td>
    </tr>
    <?php endif; ?>

    <?php if (!empty($block->getRiskScore())): ?>
        <tr>
            <th><?= $block->escapeHtml(__('Risk evaluation')); ?></th>
            <td class="stripe-payment-risk-<?= $block->escapeHtmlAttr($block->getRiskElementClass($block->getRiskScore(), $block->getRiskEvaluation())); ?>">
            <span class="stripe-payment-risk-score <?= $block->escapeHtmlAttr(ucfirst($block->getRiskScore())); ?>">
                <span class="score-value">
                    <?= $block->escapeHtml(ucfirst($block->getRiskScore())); ?>
                </span>
            </span>
                <span class="stripe-payment-risk-level"><?= $block->escapeHtml(ucfirst($block->getRiskEvaluation())); ?></span>
            </td>
        </tr>
    <?php endif; ?>
    <?php if ($block->getPaymentId()): ?>
    <tr>
        <th><?= $block->escapeHtml(__('Payment')); ?></th>
        <td class="payment">
            <a href="https://dashboard.stripe.com/<?= $block->escapeUrl($block->getMode()); ?>payments/<?= $block->escapeUrl($block->getPaymentId()); ?>" target="_blank" rel="noopener noreferrer"><?= $block->escapeHtml(__("View in Stripe")); ?></a>
        </td>
    </tr>
    <?php endif; ?>
    <?php if ($block->getSubscription()): ?>
    <tr>
        <th><?= $block->escapeHtml(__('Subscription')); ?></th>
        <td class="subscription">
            <a href="https://dashboard.stripe.com/<?= $block->escapeUrl($block->getMode()); ?>subscriptions/<?= $block->escapeUrl($block->getSubscription()->id); ?>" target="_blank" rel="noopener noreferrer"><?= $block->escapeHtml(__("View in Stripe")); ?></a>
        </td>
    </tr>
    <?php endif; ?>
    <?php if ($block->getCustomerId()): ?>
    <tr>
        <th><?= $block->escapeHtml(__('Customer')); ?></th>
        <td class="customer">
            <a href="https://dashboard.stripe.com/<?= $block->escapeUrl($block->getMode()); ?>customers/<?= $block->escapeUrl($block->getCustomerId()); ?>" target="_blank" rel="noopener noreferrer"><?= $block->escapeHtml(__("View in Stripe")); ?></a>
        </td>
    </tr>
    <?php endif; ?>
    <?php if ($block->getVoucherLink()): ?>
    <tr>
        <th><?= $block->escapeHtml(__('Voucher')); ?></th>
        <td class="customer">
            <a href="<?= $block->escapeUrl($block->getVoucherLink()); ?>" target="_blank" rel="noopener noreferrer"><?= $block->escapeHtml(__("View voucher")); ?></a>
        </td>
    </tr>
    <?php endif; ?>
    <?php if ($block->getPaymentMethodVerificationUrl()): ?>
    <tr>
        <th><?= $block->escapeHtml(__('Payment method verification')); ?></th>
        <td class="customer">
            <a href="<?= $block->escapeUrl($block->getPaymentMethodVerificationUrl()); ?>" target="_blank" rel="noopener noreferrer"><?= $block->escapeHtml(__("Visit hosted verification page")); ?></a>
        </td>
    </tr>
    <?php endif; ?>

    <?php if ($block->getInstallmentsPlan()): ?>
    <tr>
        <th><?= $block->escapeHtml(__('Installments')); ?></th>
        <td class="installments">
            <?= $block->escapeHtml($block->getInstallmentsPlan()); ?>
        </td>
    </tr>
    <?php endif;?>

    </tbody>
</table>
